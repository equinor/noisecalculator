@using NoiseCalculator.UI.Web.Resources
@using NoiseCalculator.UI.Web.ViewModels
@model IEnumerable<SelectedTaskViewModel> 
@{
    ViewBag.Title = @TaskResources.IndexTitle;
}

<script src="../../Scripts/jquery-ui-1.8.16.min.js" type="text/javascript"></script>
<link href="../../Content/themes/base/jquery.ui.all.css" rel="stylesheet" type="text/css" />

<script type="text/javascript">
    var addTaskUrl = "@Url.Action("AddTask")";
    var getCreateTaskFormUrl = "@Url.Action("GetCreateFormForTask")";
    var getEditTaskFormUrl = "@Url.Action("GetEditFormForSelectedTask")";
    var removeTaskUrl = "@Url.Action("RemoveTask")";
    var getTotalPercentageUrl = "@Url.Action("GetTotalPercentage")";
    var getRemoveTaskConfirmationUrl = "@Url.Action("GetRemoveTaskConfirmationDialog")";
</script>

<script src="../../Scripts/Tasks.js" type="text/javascript"></script>

<h1 style="margin-bottom: 0px;" id="tasklistHeading">@TaskResources.IndexTitle</h1>
<h3 style="margin-top: 5px; margin-bottom: 20px;">@TaskResources.IndexSubtitle</h3>

<div class="separatorDiv"></div>

<div id="taskList">
    @foreach (SelectedTaskViewModel selectedTask in Model)
    {
        @Html.Partial("_SelectedTask", selectedTask);
    }
</div>
    
<div class="separatorDiv"></div>

<div id="addTask" class="button">
    <img src="@Url.Content("~/Content/add.png")" class="buttonIcon" />
    @TaskResources.IndexButtonAddTask
</div>

<div style="float: right;">
    <h3 id="statusText" style="margin-top: 0px; margin-bottom: 5px; max-width: 50em; text-align: right;"></h3>

    <div id="totalDailyPercentageDiv">
        <span id="totalDailyText">@TaskResources.IndexTotalDailyDosageLabel: </span>
        <span id="totalDailyPercentage"></span>
    </div>
</div>

<br clear="all" />


<a href="@Url.Action("PdfReport")">
    <div id="printAsPdf" class="button" style="margin-top: 10px; float: right;" >
        <img src="@Url.Content("~/Content/printer.png")" class="buttonIcon" />
        @TaskResources.IndexButtonCreatePdf
    </div>
</a>
    
<br clear="all" />

<div id="taskDialog" style="display: none"></div>
<div id="deleteConfirmDialog" style="display: none;"></div>