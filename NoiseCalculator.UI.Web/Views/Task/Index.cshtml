@using NoiseCalculator.UI.Web.Resources
@using NoiseCalculator.UI.Web.ViewModels
@model IEnumerable<SelectedTaskViewModel> 
@{
    ViewBag.Title = @TaskResources.IndexTitle;
}

<script src="../../Scripts/jquery-ui-1.8.16.min.js" type="text/javascript"></script>
<link href="../../Content/themes/base/jquery.ui.all.css" rel="stylesheet" type="text/css" />

<script type="text/javascript">
    var addTaskUrl = "@Url.Action("AddTask")";
    var getCreateTaskFormUrl = "@Url.Action("GetCreateFormForTask")";
    var getEditTaskFormUrl = "@Url.Action("GetEditFormForSelectedTask")";
    var removeTaskUrl = "@Url.Action("RemoveTask")";
    var getTotalPercentageUrl = "@Url.Action("GetTotalPercentage")";
    var getRemoveTaskConfirmationUrl = "@Url.Action("GetRemoveTaskConfirmationDialog")";
</script>

<script src="../../Scripts/Tasks.js" type="text/javascript"></script>

<h2 id="tasklistHeading">@TaskResources.IndexTitle - <span id="statusText"></span></h2>

<div class="separatorDiv"></div>

<div id="taskList" style="min-height: 40px;">
    @foreach (SelectedTaskViewModel selectedTask in Model)
    {
        @Html.Partial("_SelectedTask", selectedTask);
    }
</div>
    
<div class="separatorDiv"></div>

@*ADD BUTTON*@
<div id="addTask" class="emulatedAddButton">
    <img src="@Url.Content("~/Content/add.png")" class="buttonIcon" />
    @TaskResources.IndexButtonAddTask
</div>

<div id="totalDailyPercentageDiv">
    <span id="totalDailyText">@TaskResources.IndexTotalDailyDosageLabel: </span>
    <span id="totalDailyPercentage"></span>
</div>

<br clear="all" />


<a href="@Url.Action("PdfReport")" style="border: none;">
    <div id="printAsPdf" class="emulatedAddButton" style="margin-top: 10px; float: right;" >
        <img src="@Url.Content("~/Content/printer.png")" class="buttonIcon" style="border: none;" />
        @TaskResources.IndexButtonCreatePdf
    </div>
</a>
    
<br clear="all" />

<div id="taskDialog" style="display: none"></div>
<div id="deleteConfirmDialog" style="display: none;"></div>