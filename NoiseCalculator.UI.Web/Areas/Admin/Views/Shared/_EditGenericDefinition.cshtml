@using NoiseCalculator.UI.Web.Areas.Admin.Resources
@using NoiseCalculator.UI.Web.Areas.Admin.ViewModels.Generic
@model GenericDefinitionViewModel

<form id="adminForm" action="@Url.Action("Edit")" method="POST" style="margin-top: 10px;">
    
    <input type="hidden" id="urlCreateTranslation" value="@Model.UrlCreateTranslation/@Model.Id" />
    <input type="hidden" id="urlEditTranslation" value="@Model.UrlEditTranslation" />
    <input type="hidden" id="urlDeleteTranslationConformation" value="@Model.UrlDeleteTranslationConfirmation" />
    <input type="hidden" id="definitionId" value="@Model.Id" />

    <p>
        <label for="Title" class="span80">@AdminResources.GenericDefinitionLabelTitle</label>
        <input id="Title" type="text" name="Title" style="width: 280px;" value="@Model.SystemName" />
    </p>

    
    @if(Model.HasTranslationSupport)
    {
        <strong>@AdminResources.HeadingTranslations</strong>
        <br/>
    
        <button id="addNewTranslation" class="button" style="font-size: 12px;">
            <img src="@Url.Content("~/Content/add.png")" class="buttonIcon" />
            @AdminResources.ButtonAddNew
        </button>

        <br clear="all" />
    
        <table id="translations" style="margin-top: 10px;">
            <thead>
                <tr>
                    <td></td>
                    <th>@AdminResources.GenericTaskLanguage</th>
                    <th>@AdminResources.GenericTaskTitle</th>
                    <td></td>
                </tr>
            </thead>
    
            <tbody>
                @foreach (GenericTranslationViewModel translationViewModel in Model.Translations)
                {
                    @Html.Partial("_GenericTranslationTableRow", translationViewModel)
                }
            </tbody>

        </table>
    }

    <p style="margin-top: 10px;">
        <button id="submitButton" class="button" style="margin-left: 85px;">
            <img src="@Url.Content("~/Content/disk.png")" class="buttonIcon" />
            @AdminResources.ButtonSubmit
        </button>
    
        <button id="closeButton" class="button" style="margin-left: 40px;">
            <img src="@Url.Content("~/Content/cancel.png")" class="buttonIcon" />
            @AdminResources.ButtonClose
        </button>
    </p>
</form>