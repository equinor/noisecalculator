@using NoiseCalculator.UI.Web.Areas.Admin.Models.GenericTask
@using NoiseCalculator.UI.Web.Areas.Admin.Resources
@using NoiseCalculator.UI.Web.Areas.Admin.ViewModels.GenericTask
@model NoiseCalculator.UI.Web.Areas.Admin.ViewModels.GenericTask.TaskDefinitionGenericViewModel

<form id="adminForm" action="@Url.Action("EditGenericTaskDefinition", "TaskDefinition")/@Model.Id" method="POST" style="margin-top: 10px;">
    <input type="hidden" id="urlCreateTranslation" value="@Url.Action("Create", "GenericTask")/@Model.Id" />
    <input type="hidden" id="urlEditTranslation" value="@Url.Action("Edit", "GenericTask")" />
    <input type="hidden" id="urlDeleteTranslationConformation" value="@Url.Action("ConfirmDelete", "GenericTask")" />
    <input type="hidden" id="definitionId" value="@Model.Id" />

    <p>
        <label for="Title" class="span80">@AdminResources.GenericTaskTitle</label>
        <input id="Title" type="text" name="Title" style="width: 280px;" value="@Model.SystemName" />
    </p>

    <strong>@AdminResources.HeadingTranslations</strong>
    <br/>
    
    <button id="addNewTranslation" class="button" style="font-size: 12px;">
        <img src="@Url.Content("~/Content/add.png")" class="buttonIcon" />
        @AdminResources.ButtonAddNew
    </button>

    <br clear="all" />
    
    <table id="translations" style="margin-top: 10px;">
        <thead>
            <tr>
                <td></td>
                <th>@AdminResources.GenericTaskLanguage</th>
                <th>@AdminResources.GenericTaskTitle</th>
                <th>@AdminResources.GenericTaskRole</th>
                <th>@AdminResources.GenericTaskNoiseProtection</th>
                <th>@AdminResources.GenericTaskNoiseLevel</th>
                <th>@AdminResources.GenericTaskAllowedExposure</th>
                <td></td>
            </tr>
        </thead>
    
        <tbody>
            @foreach (TaskListItemViewModel taskListItem in Model.Tasks)
            {
                @Html.Partial("_TaskTableRow", taskListItem)
            }
        </tbody>

    </table>

    <p style="margin-top: 10px;">
        <button id="submitButton" class="button" style="margin-left: 85px;">
            <img src="@Url.Content("~/Content/disk.png")" class="buttonIcon" />
            @AdminResources.ButtonSubmit
        </button>
    
        <button id="closeButton" class="button" style="margin-left: 40px;">
            <img src="@Url.Content("~/Content/cancel.png")" class="buttonIcon" />
            @AdminResources.ButtonClose
        </button>
    </p>
</form>